# Weekly Class Report Generation
# Runs every Monday at 00:01 (Sunday night -> Monday morning)
# Generates PDF reports for all classes for the past 7 days

# Add this line to your crontab with: crontab -e
# Or install it directly with: crontab crontab_weekly_reports.txt
#
# IMPORTANT: Adjust paths to match your installation:
# - LERNMANAGER_DIR: where the app is installed
# - Python environment: use full path to python in virtualenv if needed

# Format: minute hour day month weekday command
1 0 * * 1 cd /opt/lernmanager && /opt/lernmanager/venv/bin/python /opt/lernmanager/generate_weekly_reports.py >> /opt/lernmanager/logs/weekly_reports.log 2>&1

# Alternative for development (runs every Sunday at 23:59):
# 59 23 * * 0 cd /home/patrick/Nextcloud/Dokumente/coding/Lernfortschritt && python generate_weekly_reports.py >> /tmp/weekly_reports.log 2>&1

# Cron schedule explained:
# 1 0 * * 1 = At 00:01 on Monday
# │ │ │ │ │
# │ │ │ │ └─ Day of week (0-7, where both 0 and 7 are Sunday)
# │ │ │ └─── Month (1-12)
# │ │ └───── Day of month (1-31)
# │ └─────── Hour (0-23)
# └───────── Minute (0-59)

# To install this crontab:
# 1. Edit paths above to match your installation
# 2. Run: crontab crontab_weekly_reports.txt
# 3. Verify: crontab -l
#
# To see existing crontab without changing:
# crontab -l
#
# To edit crontab manually:
# crontab -e
#
# To remove crontab entirely:
# crontab -r
